{% extends "dashboard/layout.html" %}
{% block content %}
<div class="p-6">
  <h2 class="text-xl font-semibold mb-4">QuickBooks Audit Logs</h2>

  <table id="logsTable" class="table table-striped table-bordered w-full">
    <thead>
      <tr>
        <th>ID</th>
        <th>Action Type</th>
        <th>Status</th>
        <th>Error Message</th>
        <th>Request</th>
        <th>Response</th>
        <th>User</th>
      </tr>
    </thead>
  </table>
</div>

<!-- DataTables -->
<link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css">
<script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
<script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>

<script>
$(document).ready(function() {
  $('#logsTable').DataTable({
    processing: true,
    serverSide: true,
    ajax: "{{ url_for('qb_logs.logs_data') }}",
    columns: [
      { data: 0 },
      { data: 1 },
      { data: 2 },
      { data: 3 },
      { data: 4 },
      { data: 5 },
      { data: 6 }
    ]
  });
});
</script>
{% endblock %}
